@{
    ViewData["Title"] = "Editor de Reporte";
}

<div class="container mt-4">
    <div class="card shadow-sm">
        <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
            <h3 class="mb-0">Panel de Creación de Reporte</h3>
            <button type="button" class="btn btn-outline-light btn-sm" onclick="agregarFila()">
                + Agregar Producto
            </button>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table border" id="tablaProductos">
                    <thead class="table-light">
                        <tr>
                            <th style="width: 20%">Marca</th>
                            <th style="width: 20%">Modelo</th>
                            <th style="width: 45%">Descripción</th>
                            <th style="width: 15%" class="text-end">Precio</th>
                        </tr>
                    </thead>
                    <tbody id="cuerpoTabla">
                        @* Fila inicial para escribir inmediatamente *@
                        <tr>
                            <td><input type="text" class="form-control form-control-sm border-0 fw-bold" placeholder="Ej: Sony" /></td>
                            <td><input type="text" class="form-control form-control-sm border-0" placeholder="Ej: WH-1000" /></td>
                            <td><input type="text" class="form-control form-control-sm border-0" placeholder="Escribe aquí..." /></td>
                            <td><input type="number" class="form-control form-control-sm border-0 text-end" placeholder="0.00" /></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card-footer bg-light d-flex justify-content-between">
            <span class="text-muted small">Escribe los datos y presiona "Confirmar" para generar la versión final.</span>
            <button onclick="window.print()" class="btn btn-primary">Confirmar e Imprimir</button>
        </div>
    </div>
</div>

<script>
    function agregarFila() {
        var table = document.getElementById("cuerpoTabla");
        var row = table.insertRow(-1);
        row.innerHTML = `
                <td><input type="text" class="form-control form-control-sm border-0 fw-bold" placeholder="Marca" /></td>
                <td><input type="text" class="form-control form-control-sm border-0" placeholder="Modelo" /></td>
                <td><input type="text" class="form-control form-control-sm border-0" placeholder="Descripción" /></td>
                <td><input type="number" class="form-control form-control-sm border-0 text-end" placeholder="0.00" /></td>
            `;
    }
</script>

<style>
    .form-control:focus {
        box-shadow: none;
        background-color: #f8f9fa;
        border: 1px solid #dee2e6 !important;
    }

    @@media print {
        .btn, .card-footer, .card-header button {
            display: none !important;
        }

        .form-control {
            border: none !important;
            padding: 0 !important;
        }

        input::placeholder {
            color: transparent !important;
        }
    }
</style>